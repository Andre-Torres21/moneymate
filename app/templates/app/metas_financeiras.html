{% extends 'app/base.html' %}

{% block title %}Consultar metas financeiras{% endblock %}

{% block table_title %}Metas Financeiras{% endblock %}

{% block update_meta_financeira %}
    <th>Edição</th>
{% endblock %}

{% block table_content %}
    {% for meta_financeira in metas_financeiras %}
        <tr>
            <td>{{ meta_financeira.nome }}</td>
            <td>{{ meta_financeira.valor_total }}</td>
            <td>{{ meta_financeira.meta_valor_mes }}</td>
            {% if meta_financeira.valor_guardar_mes %}
                <td>{{ meta_financeira.valor_guardar_mes }}</td>
            {% else %}
                <td>Valor não definido</td>
            {% endif %}
            <td><a href="{% url 'update_meta_financeira' meta_financeira.slug %}" class="btn btn-warning">Editar</a></td>
            <td><a href="{% url 'update_valor_meta_financeira' meta_financeira.slug %}" class="btn btn-warning">Editar valor a guardar para o mês</a></td>
            <td><a href="{% url 'delete_meta_financeira' meta_financeira.slug %}" class="btn btn-danger">Excluir</a></td>
        </tr>

        {% empty %}
            <p>Não há metas financeiras cadastradas.</p>
    {% endfor %}
    <tr>
        <td colspan="7"><a href="{% url 'add_meta_financeira' %}">Adicionar meta financeira</a></td>
    </tr>
{% endblock %}

{% block form_classes %}row row-cols-lg-auto g-4 align-items-center justify-content-center mt-1{% endblock %}
{% block style %}width: 100%;{% endblock %}

{% block form_submit %}Filtrar{% endblock %}

{% block script %}
    <script>
        document.querySelector('#id_nome').required = false;
    </script>
{% endblock %}